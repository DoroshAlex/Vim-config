<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>PKCS7 Flags/Constants</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="openssl.key-types.html">Key types</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="openssl.signature-algos.html">Алгоритмы подписи</a></div>
 <div class="up"><a href="openssl.constants.html">Предопределенные константы</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="openssl.pkcs7.flags" class="section">
   <h2 class="title"><acronym>PKCS7</acronym> Flags/Constants</h2>
   <p class="para">
    Функции S/MIME используют флаги, которые определяются как набор битов,
    который может включать одну или несколько следующих констант:
    <table class="doctable table">
     <caption><b>Константы <acronym>PKCS7</acronym></b></caption>
      
       <thead valign="middle">
        <tr valign="middle">
         <th>Константа</th>
         <th>Описание</th>
        </tr>

       </thead>

       <tbody valign="middle" class="tbody">
        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_TEXT</tt></b></td>
         <td align="left">Добавляет заголовок содержимого text/plain в зашифрованное
         или подписанное сообщение. При расшифровке или проверке заголовки
         будут получены при выводе. Если после расшифровки или проверки полученное
         сообщение не имеет MIME-тип text/plain, произойдет ошибка.</td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_BINARY</tt></b></td>
         <td align="left">Обычно входящее сообщение приводится к &quot;каноничному&quot; формату,
          что эффективно при использовании <i>CR</i> и <i>LF</i>
          в конце строки: это требуется сертификацией S/MIME. Когда данная опция указана,
          проблем с трансляцией символов конца строки не происходит. Это удобно
          в случае обработки бинарных данных, которые могут быть не в формате MIME.</td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOINTERN</tt></b></td>
         <td align="left">При проверке сообщения, сертификаты (если таковые имеются),
           включенные в сообщения как правило проверяются на наличие подписи.
           С данной опцией используются только сертификаты, определенные в параметре
           <i><tt class="parameter">extracerts</tt></i> функции <span class="function"><a href="function.openssl-pkcs7-verify.html" class="function">openssl_pkcs7_verify()</a></span>.
           Все прочие сертификаты остаются неподтвержденными центром сертификации.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOVERIFY</tt></b></td>
         <td align="left">Не проверять подписантов сертификата подписанного сообщения.</td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOCHAIN</tt></b></td>
         <td align="left">Не проверять подписантов сертификата по цепочке: то есть не использовать
         сертификаты в подписанном сообщении как неавторизованные центром сертификации.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOCERTS</tt></b></td>
         <td align="left">При подписании сообщения, сертификат подписанта как правило включается
         в сообщение - с данной опцией сертификат не добавляется. Это позволяет снизить
         размер подписанного сообщения, но проверяющий должен иметь копию сертификата подписанта,
         доступную локально (это не требуется при использовании параметра
         <i><tt class="parameter">extracerts</tt></i> функции
         <span class="function"><a href="function.openssl-pkcs7-verify.html" class="function">openssl_pkcs7_verify()</a></span>).
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOATTR</tt></b></td>
         <td align="left">Обычно, когда сообщение подписано, в набор атрибутов также включается
         время подписания и поддерживаемый симметричный алгоритм. С помощью данной опции
         такое добавление не происходит.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_DETACHED</tt></b></td>
         <td align="left">При подписании сообщения, используйте подписание в открытом виде (cleartext signing)
         с MIME-типом <i>&quot;multipart/signed&quot;</i>. Это выполняется по умолчанию
         если не указывать ничего в <i><tt class="parameter">flags</tt></i> функции
         <span class="function"><a href="function.openssl-pkcs7-sign.html" class="function">openssl_pkcs7_sign()</a></span>.
         Если выключить эту опцию, сообщение будет подписано с использованием opaque signing,
         что более устойчиво к передаче почтой, но не может быть прочитано почтовыми агентами, которые
         не поддерживают S/MIME.</td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOSIGS</tt></b></td>
         <td align="left">Не пытаться проверить подписи у сообщения</td>
        </tr>

       </tbody>
      
     </table>

   </p>
   <blockquote class="note"><p><b class="note">Замечание</b>: 
     <p class="para">Данные константы были добавлены в 4.0.6.</p>
   </p></blockquote>
  </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="openssl.key-types.html">Key types</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="openssl.signature-algos.html">Алгоритмы подписи</a></div>
 <div class="up"><a href="openssl.constants.html">Предопределенные константы</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
